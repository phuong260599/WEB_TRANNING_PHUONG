{"ast":null,"code":"import { takeLatest, put, all } from \"redux-saga/effects\";\nimport axios from \"axios\";\nimport { USER_GET_SUCCESS, USER_GET_REQUEST } from '../types/user';\n\nfunction* getData() {\n  var data = localStorage.getItem(\"LOGINADMIN\");\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\n  const res = yield axios.get(\"http://dboi.info/api/users\");\n  console.log(res);\n\n  if (res.status === 200) {\n    const {\n      data\n    } = res.data;\n    yield put({\n      type: USER_GET_SUCCESS,\n      payload: data\n    });\n  }\n}\n\nfunction* getListUser() {\n  yield takeLatest(USER_GET_REQUEST, getData);\n} // //DELETE\n// function* getDatatoDelete(action) {\n//   try{\n//   var data = localStorage.getItem(\"LOGINADMIN\");\n//   axios.defaults.headers.common['AUTH-TOKEN'] = data;\n//   const { id } = action;\n//   const res = yield axios.delete(`http://dboi.info/api/categories/${id}`);\n//   if (res.status === 200) {\n//     const { id } = action;\n//     yield put({ type: CATE_DELETE_SUCCESS, payloadid: id });\n//   }\n// }\n// catch (erro){\n//   console.log(erro)\n// }\n// }\n// function* getID() {\n//   yield takeLatest(CATE_DELETE_REQUEST, getDatatoDelete);\n// }\n// //SUBMIT\n// function* getDatatoSubmit({ cate }) {\n//   var data = localStorage.getItem(\"LOGINADMIN\");\n//   axios.defaults.headers.common['AUTH-TOKEN'] = data;\n//   const res = yield axios.post(\"http://dboi.info/api/categories\", {\n//     name: cate,\n//   });\n//   console.log(\"res\", res);\n//   if (res.status === 200 && res.data.code === 200) {\n//     const { data } = res.data;\n//     console.log(data);\n//     yield put({ type: CATE_SUBMIT_SUCCESS, payload: data }); //\n//   }\n// }\n// function* getListSubmit() {\n//   yield takeLatest(CATE_SUBMIT_REQUEST, getDatatoSubmit);\n// }\n// // GET_EDIT\n// function* getDatatEdit({ id }) {\n//   var data = localStorage.getItem(\"LOGINADMIN\");\n//   axios.defaults.headers.common['AUTH-TOKEN'] = data;\n//   const res = yield axios.get(`http://dboi.info/api/categories/${id}`);\n//   if (res.status === 200 && res.data.code === 200) {\n//     const { data } = res.data;\n//     yield put({ type: CATE_GET_EDIT_SUCCESS, payload: data });\n//   }\n// }\n// function* getDatatoEdit() {\n//   yield takeLatest(CATE_GET_EDIT_REQUEST, getDatatEdit);\n// }\n// // UPDATE_EDIT\n// function* getUpdate({ data }) {\n//   try{\n//     var dataAdmin = localStorage.getItem(\"LOGINADMIN\"); // \n//     axios.defaults.headers.common['AUTH-TOKEN'] = dataAdmin;\n//     const res = yield axios.put(`http://dboi.info/api/categories/${data.id}`, { name: data.name,});\n//     if (res.status === 200 && res.data.code === 200) {\n//       const { data } = res.data;\n//       yield put({ type: CATE_UPDATE_EDIT_SUCCESS, payload: data });\n//     }\n//   }\n//   catch(error)\n//   {\n//     console.log(error.response.status)\n//     if(error.response.status === 401)\n//     {\n//       yield put({ type: LOGOUT_ADMIN});\n//       localStorage.removeItem(\"LOGINADMIN\")\n//     }\n//   }\n// }\n// function* getUpdateEdit() {\n//   yield takeLatest(CATE_UPDATE_EDIT_REQUEST, getUpdate);\n// }\n\n\nexport default function* () {\n  yield all([// getID(),\n  getListUser() // getListSubmit(),\n  // getDatatoEdit(),\n  // getUpdateEdit(),\n  ]);\n}","map":{"version":3,"sources":["C:/Users/Phuong/Downloads/Web_thuc_tap/Web_thuc_tap/src/redux/sagas/user.js"],"names":["takeLatest","put","all","axios","USER_GET_SUCCESS","USER_GET_REQUEST","getData","data","localStorage","getItem","defaults","headers","common","res","get","console","log","status","type","payload","getListUser"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,QAAqC,oBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,gBADF,EAEEC,gBAFF,QAGO,eAHP;;AAKA,UAAUC,OAAV,GAAoB;AAClB,MAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX;AACAN,EAAAA,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,YAA9B,IAA8CL,IAA9C;AACA,QAAMM,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,4BAAV,CAAlB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,MAAIA,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACtB,UAAM;AAAEV,MAAAA;AAAF,QAAWM,GAAG,CAACN,IAArB;AACA,UAAMN,GAAG,CAAC;AAAEiB,MAAAA,IAAI,EAAEd,gBAAR;AAA0Be,MAAAA,OAAO,EAAEZ;AAAnC,KAAD,CAAT;AACD;AACF;;AAED,UAAUa,WAAV,GAAwB;AACtB,QAAMpB,UAAU,CAACK,gBAAD,EAAmBC,OAAnB,CAAhB;AACD,C,CAED;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAEA,eAAe,aAAa;AAC1B,QAAMJ,GAAG,CAAC,CACR;AACAkB,EAAAA,WAAW,EAFH,CAGR;AACA;AACA;AALQ,GAAD,CAAT;AAOD","sourcesContent":["import { takeLatest, put, all } from \"redux-saga/effects\";\r\nimport axios from \"axios\";\r\nimport { \r\n  USER_GET_SUCCESS,\r\n  USER_GET_REQUEST\r\n} from '../types/user';\r\n\r\nfunction* getData() {\r\n  var data = localStorage.getItem(\"LOGINADMIN\");\r\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n  const res = yield axios.get(\"http://dboi.info/api/users\");\r\n  console.log(res)\r\n  if (res.status === 200) {\r\n    const { data } = res.data;\r\n    yield put({ type: USER_GET_SUCCESS, payload: data });\r\n  }\r\n}\r\n\r\nfunction* getListUser() {\r\n  yield takeLatest(USER_GET_REQUEST, getData);\r\n}\r\n\r\n// //DELETE\r\n\r\n// function* getDatatoDelete(action) {\r\n//   try{\r\n//   var data = localStorage.getItem(\"LOGINADMIN\");\r\n//   axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n//   const { id } = action;\r\n//   const res = yield axios.delete(`http://dboi.info/api/categories/${id}`);\r\n//   if (res.status === 200) {\r\n//     const { id } = action;\r\n//     yield put({ type: CATE_DELETE_SUCCESS, payloadid: id });\r\n//   }\r\n      \r\n// }\r\n// catch (erro){\r\n//   console.log(erro)\r\n// }\r\n// }\r\n\r\n// function* getID() {\r\n//   yield takeLatest(CATE_DELETE_REQUEST, getDatatoDelete);\r\n// }\r\n\r\n// //SUBMIT\r\n\r\n// function* getDatatoSubmit({ cate }) {\r\n//   var data = localStorage.getItem(\"LOGINADMIN\");\r\n//   axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n//   const res = yield axios.post(\"http://dboi.info/api/categories\", {\r\n//     name: cate,\r\n//   });\r\n//   console.log(\"res\", res);\r\n//   if (res.status === 200 && res.data.code === 200) {\r\n//     const { data } = res.data;\r\n//     console.log(data);\r\n//     yield put({ type: CATE_SUBMIT_SUCCESS, payload: data }); //\r\n//   }\r\n// }\r\n\r\n// function* getListSubmit() {\r\n//   yield takeLatest(CATE_SUBMIT_REQUEST, getDatatoSubmit);\r\n// }\r\n\r\n// // GET_EDIT\r\n\r\n// function* getDatatEdit({ id }) {\r\n//   var data = localStorage.getItem(\"LOGINADMIN\");\r\n//   axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n//   const res = yield axios.get(`http://dboi.info/api/categories/${id}`);\r\n//   if (res.status === 200 && res.data.code === 200) {\r\n//     const { data } = res.data;\r\n//     yield put({ type: CATE_GET_EDIT_SUCCESS, payload: data });\r\n//   }\r\n// }\r\n\r\n// function* getDatatoEdit() {\r\n//   yield takeLatest(CATE_GET_EDIT_REQUEST, getDatatEdit);\r\n// }\r\n\r\n// // UPDATE_EDIT\r\n\r\n// function* getUpdate({ data }) {\r\n//   try{\r\n//     var dataAdmin = localStorage.getItem(\"LOGINADMIN\"); // \r\n//     axios.defaults.headers.common['AUTH-TOKEN'] = dataAdmin;\r\n//     const res = yield axios.put(`http://dboi.info/api/categories/${data.id}`, { name: data.name,});\r\n//     if (res.status === 200 && res.data.code === 200) {\r\n//       const { data } = res.data;\r\n//       yield put({ type: CATE_UPDATE_EDIT_SUCCESS, payload: data });\r\n//     }\r\n//   }\r\n//   catch(error)\r\n//   {\r\n//     console.log(error.response.status)\r\n//     if(error.response.status === 401)\r\n//     {\r\n//       yield put({ type: LOGOUT_ADMIN});\r\n//       localStorage.removeItem(\"LOGINADMIN\")\r\n//     }\r\n//   }\r\n// }\r\n\r\n// function* getUpdateEdit() {\r\n//   yield takeLatest(CATE_UPDATE_EDIT_REQUEST, getUpdate);\r\n// }\r\n\r\nexport default function* () {\r\n  yield all([\r\n    // getID(),\r\n    getListUser(),\r\n    // getListSubmit(),\r\n    // getDatatoEdit(),\r\n    // getUpdateEdit(),\r\n  ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}