{"ast":null,"code":"import { takeLatest, put, all } from \"redux-saga/effects\";\nimport axios from \"axios\";\nimport { PRODUCT_GET_ADMIN_REQUEST, PRODUCT_GET_ADMIN_SUCCESS, PRODUCT_SUBMIT_SUCCESS, PRODUCT_SUBMIT_REQUEST, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_GET_EDIT_DATA_SUCCESS, PRODUCT_GET_EDIT_DATA_REQUEST, PRODUCT_UPDATE_EDIT_DATA_SUCCESS, PRODUCT_UPDATE_EDIT_DATA_REQUEST } from \"./../types/product\"; // lấy tất cả data từ products\n\nfunction* getDataAdmin() {\n  const res = yield axios.get(\"http://dboi.info/api/products\");\n\n  if (res.status === 200) {\n    const {\n      data\n    } = res.data;\n    yield put({\n      type: PRODUCT_GET_ADMIN_SUCCESS,\n      payload: data\n    });\n  }\n}\n\nfunction* getListProduct() {\n  yield takeLatest(PRODUCT_GET_ADMIN_REQUEST, getDataAdmin);\n} //submit\n\n\nfunction* getDatatoSubmit({\n  cate\n}) {\n  var data = localStorage.getItem(\"LOGINADMIN\");\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\n  const res = yield axios.post(\"http://dboi.info/api/products\", cate);\n\n  if (res.status === 200 && res.data.code === 200) {\n    const {\n      data\n    } = res.data;\n    yield put({\n      type: PRODUCT_SUBMIT_SUCCESS,\n      payload: data\n    });\n  }\n}\n\nfunction* getSubmitProduct() {\n  yield takeLatest(PRODUCT_SUBMIT_REQUEST, getDatatoSubmit);\n} //delete\n\n\nfunction* deleteProducts({\n  id\n}) {\n  var data = localStorage.getItem(\"LOGINADMIN\");\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\n  const res = yield axios.delete(`http://dboi.info/api/products/${id}`);\n\n  if (res.status === 200 && res.data.code === 200) {\n    yield put({\n      type: PRODUCT_DELETE_SUCCESS,\n      payload: id\n    });\n  }\n}\n\nfunction* deleteIdProducts() {\n  yield takeLatest(PRODUCT_DELETE_REQUEST, deleteProducts);\n} // GET EDIT PRODUCT DATA\n\n\nfunction* getEditData({\n  id\n}) {\n  var data = localStorage.getItem(\"LOGINADMIN\");\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\n  const res = yield axios.get(`http://dboi.info/api/products/` + id);\n\n  if (res.status === 200) {\n    const {\n      data\n    } = res.data;\n    yield put({\n      type: PRODUCT_GET_EDIT_DATA_SUCCESS,\n      payload: data\n    });\n  }\n}\n\nfunction* getEditProduct() {\n  yield takeLatest(PRODUCT_GET_EDIT_DATA_REQUEST, getEditData);\n} // UPDATE EDIT DATA\n\n\nfunction* updateEditData({\n  data,\n  id\n}) {\n  var dataAdmin = localStorage.getItem(\"LOGINADMIN\");\n  axios.defaults.headers.common['AUTH-TOKEN'] = dataAdmin;\n  const res = yield axios.put(`http://dboi.info/api/products/${id}`, data);\n\n  if (res.status === 200) {\n    const {\n      data\n    } = res.data;\n    yield put({\n      type: PRODUCT_UPDATE_EDIT_DATA_SUCCESS,\n      payload: data\n    });\n  }\n}\n\nfunction* updateEditProduct() {\n  yield takeLatest(PRODUCT_UPDATE_EDIT_DATA_REQUEST, updateEditData);\n}\n\nexport default function* () {\n  yield all([getListProduct(), getSubmitProduct(), deleteIdProducts(), getEditProduct(), updateEditProduct()]);\n}","map":{"version":3,"sources":["C:/Users/Phuong/Downloads/Web_thuc_tap/Web_thuc_tap/src/redux/sagas/productAmin.js"],"names":["takeLatest","put","all","axios","PRODUCT_GET_ADMIN_REQUEST","PRODUCT_GET_ADMIN_SUCCESS","PRODUCT_SUBMIT_SUCCESS","PRODUCT_SUBMIT_REQUEST","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_GET_EDIT_DATA_SUCCESS","PRODUCT_GET_EDIT_DATA_REQUEST","PRODUCT_UPDATE_EDIT_DATA_SUCCESS","PRODUCT_UPDATE_EDIT_DATA_REQUEST","getDataAdmin","res","get","status","data","type","payload","getListProduct","getDatatoSubmit","cate","localStorage","getItem","defaults","headers","common","post","code","getSubmitProduct","deleteProducts","id","delete","deleteIdProducts","getEditData","getEditProduct","updateEditData","dataAdmin","updateEditProduct"],"mappings":"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","sourcesContent":["import { takeLatest, put, all } from \"redux-saga/effects\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  PRODUCT_GET_ADMIN_REQUEST,\r\n  PRODUCT_GET_ADMIN_SUCCESS,\r\n  PRODUCT_SUBMIT_SUCCESS,\r\n  PRODUCT_SUBMIT_REQUEST,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_GET_EDIT_DATA_SUCCESS,\r\n  PRODUCT_GET_EDIT_DATA_REQUEST,\r\n  PRODUCT_UPDATE_EDIT_DATA_SUCCESS,\r\n  PRODUCT_UPDATE_EDIT_DATA_REQUEST,\r\n} from \"./../types/product\";\r\n\r\n// lấy tất cả data từ products\r\nfunction* getDataAdmin() {\r\n  const res = yield axios.get(\"http://dboi.info/api/products\");\r\n  if (res.status === 200) {\r\n    const { data } = res.data;\r\n    yield put({ type: PRODUCT_GET_ADMIN_SUCCESS, payload: data });\r\n  }\r\n}\r\n\r\nfunction* getListProduct() {\r\n  yield takeLatest(PRODUCT_GET_ADMIN_REQUEST, getDataAdmin);\r\n}\r\n\r\n//submit\r\nfunction* getDatatoSubmit({ cate }) {\r\n  var data = localStorage.getItem(\"LOGINADMIN\");\r\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n  const res = yield axios.post(\"http://dboi.info/api/products\", cate);\r\n  if (res.status === 200 && res.data.code === 200) {\r\n    const { data } = res.data;\r\n    yield put({ type: PRODUCT_SUBMIT_SUCCESS, payload: data });\r\n  }\r\n}\r\n\r\nfunction* getSubmitProduct() {\r\n  yield takeLatest(PRODUCT_SUBMIT_REQUEST, getDatatoSubmit);\r\n}\r\n\r\n//delete\r\nfunction* deleteProducts({ id }) {\r\n  var data = localStorage.getItem(\"LOGINADMIN\");\r\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n  const res = yield axios.delete(`http://dboi.info/api/products/${id}`);\r\n  if (res.status === 200 && res.data.code === 200) {\r\n    yield put({ type: PRODUCT_DELETE_SUCCESS, payload: id });\r\n  }\r\n}\r\n\r\nfunction* deleteIdProducts() {\r\n  yield takeLatest(PRODUCT_DELETE_REQUEST, deleteProducts);\r\n}\r\n\r\n// GET EDIT PRODUCT DATA\r\n\r\nfunction* getEditData({ id }) {\r\n  var data = localStorage.getItem(\"LOGINADMIN\");\r\n  axios.defaults.headers.common['AUTH-TOKEN'] = data;\r\n  const res = yield axios.get(`http://dboi.info/api/products/` + id);\r\n  if (res.status === 200) {\r\n    const { data } = res.data;\r\n    yield put({ type: PRODUCT_GET_EDIT_DATA_SUCCESS, payload: data });\r\n  }\r\n}\r\n\r\nfunction* getEditProduct() {\r\n  yield takeLatest(PRODUCT_GET_EDIT_DATA_REQUEST, getEditData);\r\n}\r\n\r\n// UPDATE EDIT DATA\r\nfunction* updateEditData({ data, id }) {\r\n  var dataAdmin = localStorage.getItem(\"LOGINADMIN\");\r\n  axios.defaults.headers.common['AUTH-TOKEN'] = dataAdmin;\r\n  const res = yield axios.put(`http://dboi.info/api/products/${id}`, data);\r\n  if (res.status === 200) {\r\n    const { data } = res.data;\r\n    yield put({ type: PRODUCT_UPDATE_EDIT_DATA_SUCCESS, payload: data });\r\n  }\r\n}\r\n\r\nfunction* updateEditProduct() {\r\n  yield takeLatest(PRODUCT_UPDATE_EDIT_DATA_REQUEST, updateEditData);\r\n}\r\n\r\nexport default function* () {\r\n  yield all([\r\n    getListProduct(),\r\n    getSubmitProduct(),\r\n    deleteIdProducts(),\r\n    getEditProduct(),\r\n    updateEditProduct(),\r\n  ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}